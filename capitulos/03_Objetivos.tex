\chapter{Objetivos}
En este trabajo lo que se tratará de realizar es:
\begin{itemize}
\item Demostrar que es posible analizar el tráfico mediante el emparejamiento de flujos.
\item Realizar un programa que sea capaz, a partir de un archivo \textit{pcap}, de analizar los flujos y emparejarlos.
\item Que dicho programa muestre la información de los flujos emparejados.
\item Implementación de la función de la comparación que se halla en el ensayo \cite{comparacion}.
\end{itemize}

\noindent Para demostrar que es posible analizar el tráfico mediante el emparejamiento 
de flujos, y por tanto con DPI, se usará Bro para gestionar el tráfico de 
la red, creando un \textit{script} para este cometido. Aunque se pretende 
realizar para una aplicación offline, también se podría usar para una 
aplicación en tiempo real sin problema.
\intro
Al realizar una \textbf{extensión} para Bro tendremos que adaptarnos y aprender a 
programar en el lenguaje que utilizan para ello el cual ya se nombré e incluso se ha visto algún ejemplo, 
Bro, el cual tiene ciertas peculiaridades, aunque como ya sabemos 
programar en distintos lenguajes, el 
aprendizaje de este lenguaje es muy rápido, pues la gran mayoría de las cosas 
ya sabemos realizarlas, sólo falta adaptarse a las peculiaridades que tiene, como ocurre con 
cualquier lenguaje. Alguna de estas peculiaridades es por ejemplo el acceso a 
los datos dentro de un tipo, que se realiza mediante \textit{\$}, cuando en otros 
lenguajes accedemos a ellos mediante \textit{.} ó \textit{->}.
\intro
Para mostrar la información de los flujos será necesario crear una función 
que nos muestre por pantalla que contienen dichos flujos. Realizar la función 
es para no repetir código, lo cual entra dentro de las buenas prácticas de 
programación. En dicha función se accederá a los datos de IP origen y 
destino y los puertos origen y destino de los flujos que estamos comparando, 
esta función no realiza comparaciones, simplemente muestra la información, 
pues esta función es llamada después de encontrar dos flujos que son emparejables.
\intro
Para ver si dos flujos son emparejables, primero tendremos que ver si las IP’s 
y los puertos de origen y destino son iguales. En caso de serlo pasaremos a 
aplicar la función, que se encuentra en el apartado \textit{Estado del Arte}, la cual nos devolverá 
un número que compararemos con un umbral que nosotros definimos antes de empezar la ejecución, haciendo que 
si es mayor no sean emparejables y si es menor que dicho umbral si sean emparejables.